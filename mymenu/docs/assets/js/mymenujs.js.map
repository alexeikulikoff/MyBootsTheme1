{"version":3,"file":"mymenujs.js","sources":["../../../src/constant.ts","../../../src/index.ts"],"sourcesContent":["\nimport { Node } from './interface';\n\n\nexport const Node0: Node  = {\n\tp: '',\n\tname: '',\n\tq : '',\n\tnodes: []\n} \n\nexport class TodoItemNode {\n  children?: TodoItemNode[];\n  item?: String;\n  p?: String;\n  selected?: boolean;\n\t\n   constructor() {\n\t}\t\n  constructor(item: String, p: String, selected: boolean,  children?: TodoItemNode[]) {\n\t\n\t\tthis.item = item;\n\t\tthis.p = p;\n\t\tthis.selected = selected;\n\t\tthis.children = children;\n\t\t\n\t}\n\n}\n","import { Node0, TodoItemNode } from \"./constant\";\nimport { Item } from \"./interface\";\nimport { Node } from \"./interface\";\n\n\n\nclass MyMenu {\n\n\tprivate array: any[] = [];\n\t\n\tprivate node: Node = Node0;\n\t\n\t\n\tconstructor(element: Element | string) {\n\n\t\tthis.init();\n\t}\n\t\n\tprivate hasChild = (array: Item[], p: String) => {\n\t\treturn array.filter(s=>s.q === p).length > 0;\n\t}\n\t\n\tbuildFileTree(obj: {[key: string]: any}, level: number): TodoItemNode[] {\n    return Object.keys(obj).reduce<TodoItemNode[]>((accumulator, key) => {\n      const value = obj[key];\n      const node = new TodoItemNode();\n      node.item = key;\n\n      if (value != null) {\n        if (typeof value === 'object') {\n          node.children = this.buildFileTree(value, level + 1);\n        } else {\n          node.item = value;\n        }\n      }\n\n      return accumulator.concat(node);\n    }, []);\n  }\n\n\n\t\n\tprivate init(): void {\n\t\tconsole.log('init');\n\n\t\tthis.array.push({ p: '1', name: 'root0', q: '0' });\n\t\tthis.array.push({ p: '2', name: 'root1', q: '0' });\n\t\tthis.array.push({ p: '3', name: 'root2', q: '0' });\n\n\t\tthis.array.push({ p: '4', name: 'root4', q: '1' });\n\t\tthis.array.push({ p: '5', name: 'root5', q: '1' });\n\t\t\n\t\tthis.array.push({ p: '6', name: 'root6', q: '4' });\n\t\tthis.array.push({ p: '7', name: 'root7', q: '4' });\n\t\t\n\t\tlet z0: String = '0';\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\tconst res = this.array.filter(s=>s.q === z0).reduce((a, b: Item, index, arr: Item[]  ) =>{\n\t\t\t\t\n\t\t\t\tconst n: Node = { p: b.p, name: b.name, q: b.q, nodes: [] };\n\t\t\t\t\n\t\t\t\tif (this.hasChild(this.array, b.p)){\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('has child');\n\t\t\t\t\t\n\t\t\t\t\tthis.array.filter(s=> s.q === b.p).forEach(f=>{\n\t\t\t\t\t\tn.nodes.push({p: f.p, name: f.name, q: f.q, nodes: []});\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\ta.nodes.push(n);\t\n\t\t\t\t\n\t\t\t\treturn a ;\n\t\t},this.node);\n\t\t\n\t\tconsole.log(res);\n\t}\n}\n\nexport default MyMenu;"],"names":[],"mappings":"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"}