{"version":3,"file":"mymenujs.esm.js","sources":["../src/constant.ts","../src/index.ts"],"sourcesContent":["\nimport { Node } from './interface';\n\n\nexport const Node0: Node  = {\n\tp: '',\n\tname: '',\n\tq : '',\n\tnodes: []\n} \n\nexport class TodoItemNode {\n  children?: TodoItemNode[];\n  item?: String;\n  p?: String;\n  selected?: boolean;\n\t\n   constructor() {\n\t}\t\n \n\n}\n","import { Node0, TodoItemNode } from \"./constant\";\nimport { Item } from \"./interface\";\nimport { Node } from \"./interface\";\n\n\n\nclass MyMenu {\n\n\tprivate array: any[] = [];\n\n\tprivate node: Node = Node0;\n\n\n\tconstructor(element: Element | string) {\n\n\t\tthis.init();\n\t}\n\n\tprivate hasChild = (array: Item[], p: String) => {\n\t\treturn array.filter(s => s.q === p).length > 0;\n\t}\n\n\tbuildFileTree(obj: { [key: string]: any }, level: number): TodoItemNode[] {\n\n\n\t\treturn Object.keys(obj).reduce<TodoItemNode[]>((accumulator, key) => {\n\t\t\tconst value = obj[key];\n\t\t\tconst node = new TodoItemNode();\n\t\t\tnode.item = key;\n\n\t\t\tif (value != null) {\n\t\t\t\tif (typeof value === 'object') {\n\t\t\t\t\tnode.children = this.buildFileTree(value, level + 1);\n\t\t\t\t} else {\n\t\t\t\t\tnode.item = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn accumulator.concat(node);\n\t\t}, []);\n\t}\n\n\n\n\tprivate buildNode(array: Item[], p: String): Node[] {\n\n\t\treturn array.filter(a=>a.q === p).reduce<Node[]>((accumulator, key: Item) => {\n\t\t\tconst node: Node = { p: key.p, name: key.name, q: key.q, nodes: [] };\n\t\t\tif (array.filter(f => f.q === key.p).length > 0){\n\t\t\t\tnode.nodes = this.buildNode(array, key.p);\n\t\t\t}\n\t\t\n\t\t\treturn accumulator.concat(node);\t\n\t\t}, [])\n\n\t}\n\n\tprivate init(): void {\n\t\tconsole.log('init');\n\n\t\tthis.array.push({ p: '1', name: 'root0', q: '0' });\n\t\tthis.array.push({ p: '2', name: 'root1', q: '0' });\n\t\tthis.array.push({ p: '3', name: 'root2', q: '0' });\n\n\t\tthis.array.push({ p: '4', name: 'root4', q: '1' });\n\t\tthis.array.push({ p: '5', name: 'root5', q: '1' });\n\n\t\tthis.array.push({ p: '6', name: 'root6', q: '4' });\n\t\tthis.array.push({ p: '7', name: 'root7', q: '4' });\n\n\t\tlet z0: String = '0';\n\n\n\t\tconst res: Node[] = this.buildNode(this.array, '0');\n\n\t\tconsole.log(res);\n\t}\n}\n\nexport default MyMenu;"],"names":[],"mappings":"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"}