{"version":3,"file":"mymenujs.esm.js","sources":["../src/constant.ts","../src/index.ts"],"sourcesContent":["\nimport { Node } from './interface';\n\n\nexport const Node0: Node  = {\n\tp: '',\n\tname: '',\n\tq : '',\n\tnodes: []\n} \n\nexport class TodoItemNode {\n  children?: TodoItemNode[];\n  item?: String;\n  p?: String;\n  selected?: boolean;\n\t\n   constructor() {\n\t}\t\n  constructor(item: String, p: String, selected: boolean,  children?: TodoItemNode[]) {\n\t\n\t\tthis.item = item;\n\t\tthis.p = p;\n\t\tthis.selected = selected;\n\t\tthis.children = children;\n\t\t\n\t}\n\n}\n","import { Node0, TodoItemNode } from \"./constant\";\nimport { Item } from \"./interface\";\nimport { Node } from \"./interface\";\n\n\n\nclass MyMenu {\n\n\tprivate array: any[] = [];\n\t\n\tprivate node: Node = Node0;\n\t\n\t\n\tconstructor(element: Element | string) {\n\n\t\tthis.init();\n\t}\n\t\n\tprivate hasChild = (array: Item[], p: String) => {\n\t\treturn array.filter(s=>s.q === p).length > 0;\n\t}\n\t\n\tbuildFileTree(obj: {[key: string]: any}, level: number): TodoItemNode[] {\n    return Object.keys(obj).reduce<TodoItemNode[]>((accumulator, key) => {\n      const value = obj[key];\n      const node = new TodoItemNode();\n      node.item = key;\n\n      if (value != null) {\n        if (typeof value === 'object') {\n          node.children = this.buildFileTree(value, level + 1);\n        } else {\n          node.item = value;\n        }\n      }\n\n      return accumulator.concat(node);\n    }, []);\n  }\n\n\n\t\n\tprivate init(): void {\n\t\tconsole.log('init');\n\n\t\tthis.array.push({ p: '1', name: 'root0', q: '0' });\n\t\tthis.array.push({ p: '2', name: 'root1', q: '0' });\n\t\tthis.array.push({ p: '3', name: 'root2', q: '0' });\n\n\t\tthis.array.push({ p: '4', name: 'root4', q: '1' });\n\t\tthis.array.push({ p: '5', name: 'root5', q: '1' });\n\t\t\n\t\tthis.array.push({ p: '6', name: 'root6', q: '4' });\n\t\tthis.array.push({ p: '7', name: 'root7', q: '4' });\n\t\t\n\t\tlet z0: String = '0';\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\tconst res = this.array.filter(s=>s.q === z0).reduce((a, b: Item, index, arr: Item[]  ) =>{\n\t\t\t\t\n\t\t\t\tconst n: Node = { p: b.p, name: b.name, q: b.q, nodes: [] };\n\t\t\t\t\n\t\t\t\tif (this.hasChild(this.array, b.p)){\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('has child');\n\t\t\t\t\t\n\t\t\t\t\tthis.array.filter(s=> s.q === b.p).forEach(f=>{\n\t\t\t\t\t\tn.nodes.push({p: f.p, name: f.name, q: f.q, nodes: []});\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\ta.nodes.push(n);\t\n\t\t\t\t\n\t\t\t\treturn a ;\n\t\t},this.node);\n\t\t\n\t\tconsole.log(res);\n\t}\n}\n\nexport default MyMenu;"],"names":[],"mappings":"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"}